{"version":3,"file":"bundle-683799ee.js","sources":["../../src/custom.js"],"sourcesContent":["let lastUpdated = 0;\nfunction checkForUpdates() {\n    // Get the relative base path from a data attribute on the body tag\n    let basePath = document.body.dataset.basePath || '';\n    const sentinelPath = `${basePath}sentinel.json`;\n\n    fetch(sentinelPath)\n        .then(response => response.json())\n        .then(data => {\n            if (lastUpdated === 0) {\n                lastUpdated = data.last_updated;\n            } else if (data.last_updated > lastUpdated) {\n                location.reload();\n            }\n        });\n}\nif (window.location.hostname === 'localhost') {\n    setInterval(checkForUpdates, 100); // Check every second\n}\n"],"names":["lastUpdated","window","location","hostname","setInterval","basePath","document","body","dataset","fetch","then","response","json","data","last_updated","reload"],"mappings":"yBAAA,IAAIA,EAAc,EAgBe,cAA7BC,OAAOC,SAASC,UAChBC,aAhBJ,WAEI,IAAIC,EAAWC,SAASC,KAAKC,QAAQH,UAAY,GAGjDI,MAFqB,GAAGJ,kBAGnBK,MAAKC,GAAYA,EAASC,SAC1BF,MAAKG,IACkB,IAAhBb,EACAA,EAAca,EAAKC,aACZD,EAAKC,aAAed,GAC3BE,SAASa,QACZ,GAEb,GAEiC"}